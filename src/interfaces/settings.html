<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Param√®tres - NoSubVod</title>
    <style>
      * { box-sizing: border-box; }
      body { 
        font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; 
        margin: 0; 
        padding: 0; 
        min-width: 600px;
        color: #e3e3e3; 
        background: #0e0e10; 
      }
      
      /* Header */
      header { 
        display: flex; 
        align-items: center; 
        justify-content: space-between; 
        padding: 20px 30px; 
        border-bottom: 2px solid #2f2f37;
        background: linear-gradient(135deg, #18181b 0%, #0e0e10 100%);
      }
      .header-left { display: flex; align-items: center; gap: 12px; }
      .header-left img { filter: drop-shadow(0 0 8px rgba(145, 70, 255, 0.5)); }
      h1 { 
        font-size: 24px; 
        margin: 0; 
        background: linear-gradient(90deg, #9146FF, #b366ff);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      
      /* Container */
      .container { 
        max-width: 900px; 
        margin: 0 auto; 
        padding: 30px; 
      }
      
      /* Sections */
      .section { 
        background: #18181b; 
        border-radius: 12px; 
        padding: 24px; 
        margin-bottom: 24px;
        border: 1px solid #2f2f37;
        transition: all 0.3s ease;
      }
      .section:hover {
        border-color: #9146FF;
        box-shadow: 0 4px 12px rgba(145, 70, 255, 0.1);
      }
      
      .section-header {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 20px;
        padding-bottom: 16px;
        border-bottom: 1px solid #2f2f37;
      }
      
      .section-icon {
        font-size: 32px;
        line-height: 1;
      }
      
      .section-title {
        flex: 1;
      }
      
      .section-title h2 {
        font-size: 20px;
        font-weight: 700;
        margin: 0 0 4px 0;
        color: #e3e3e3;
      }
      
      .section-title p {
        font-size: 13px;
        color: #adadb8;
        margin: 0;
      }
      
      /* Feature toggles */
      .feature-item {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        padding: 16px;
        margin-bottom: 12px;
        background: #0e0e10;
        border-radius: 8px;
        transition: all 0.2s ease;
      }
      
      .feature-item:hover {
        background: #1f1f23;
      }
      
      .feature-info {
        flex: 1;
        margin-right: 16px;
      }
      
      .feature-name {
        font-size: 15px;
        font-weight: 600;
        color: #e3e3e3;
        margin-bottom: 6px;
        display: flex;
        align-items: center;
        gap: 8px;
      }
      
      .feature-badge {
        font-size: 10px;
        padding: 2px 6px;
        border-radius: 4px;
        background: #9146FF;
        color: white;
        text-transform: uppercase;
        font-weight: 700;
      }
      
      .feature-badge.recommended {
        background: #00ff7f;
        color: #0e0e10;
      }
      
      .feature-badge.new {
        background: #ff6b35;
        color: white;
      }
      
      .feature-badge.beta {
        background: #ffa500;
        color: white;
      }
      
      .feature-description {
        font-size: 13px;
        color: #adadb8;
        line-height: 1.5;
      }
      
      /* Toggle switch */
      .toggle {
        position: relative;
        width: 52px;
        height: 28px;
        flex-shrink: 0;
      }
      
      .toggle input {
        opacity: 0;
        width: 0;
        height: 0;
      }
      
      .toggle-slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: #2f2f37;
        border-radius: 28px;
        transition: 0.3s;
      }
      
      .toggle-slider:before {
        position: absolute;
        content: "";
        height: 22px;
        width: 22px;
        left: 3px;
        bottom: 3px;
        background: white;
        border-radius: 50%;
        transition: 0.3s;
        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      }
      
      .toggle input:checked + .toggle-slider {
        background: #9146FF;
      }
      
      .toggle input:checked + .toggle-slider:before {
        transform: translateX(24px);
      }
      
      .toggle input:disabled + .toggle-slider {
        opacity: 0.5;
        cursor: not-allowed;
      }
      
      /* Input fields */
      .input-group {
        margin-bottom: 16px;
      }
      
      .input-label {
        font-size: 13px;
        font-weight: 600;
        color: #adadb8;
        margin-bottom: 8px;
        display: block;
      }
      
      input[type="text"],
      input[type="number"],
      select {
        width: 100%;
        padding: 10px 12px;
        border-radius: 8px;
        border: 1px solid #2f2f37;
        background: #0e0e10;
        color: #e3e3e3;
        font-size: 14px;
        transition: all 0.2s ease;
      }
      
      input[type="text"]:focus,
      input[type="number"]:focus,
      select:focus {
        outline: none;
        border-color: #9146FF;
        box-shadow: 0 0 0 3px rgba(145, 70, 255, 0.1);
      }
      
      /* Buttons */
      .btn-group {
        display: flex;
        gap: 12px;
        margin-top: 24px;
      }
      
      button {
        padding: 12px 24px;
        border: none;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s ease;
      }
      
      .btn-primary {
        background: linear-gradient(135deg, #9146FF, #b366ff);
        color: white;
        flex: 1;
      }
      
      .btn-primary:hover {
        background: linear-gradient(135deg, #a45fff, #c589f5);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(145, 70, 255, 0.3);
      }
      
      .btn-secondary {
        background: #2f2f37;
        color: #e3e3e3;
      }
      
      .btn-secondary:hover {
        background: #3a3a42;
      }
      
      button:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none !important;
      }
      
      /* Badge customization */
      .badge-preview {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 16px;
        background: #0e0e10;
        border-radius: 8px;
        margin-top: 12px;
      }
      
      .badge-preview-label {
        font-size: 13px;
        color: #adadb8;
      }
      
      .badge-preview-item {
        padding: 8px 12px;
        background: rgba(145, 70, 255, 0.2);
        border-radius: 6px;
        font-size: 14px;
        border: 1px solid #9146FF;
      }
      
      .badge-preview-item img {
        width: 18px;
        height: 18px;
        object-fit: contain;
        vertical-align: middle;
      }
      
      .badge-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
        gap: 8px;
        margin-top: 12px;
      }
      
      .badge-btn {
        width: 100%;
        padding: 12px;
        background: #0e0e10;
        border: 2px solid #2f2f37;
        border-radius: 8px;
        cursor: pointer;
        font-size: 24px;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 60px;
      }
      
      .badge-btn:hover {
        background: #1f1f23;
        border-color: #9146FF;
      }
      
      .badge-btn.selected {
        border-color: #9146FF;
        background: rgba(145, 70, 255, 0.1);
        box-shadow: 0 0 0 3px rgba(145, 70, 255, 0.2);
      }
      
      .badge-btn img {
        max-width: 100%;
        max-height: 40px;
        object-fit: contain;
      }
      
      /* Effect preview */
      .effect-preview {
        display: inline-block;
        font-size: 16px;
        font-weight: 700;
        padding: 8px 16px;
        border-radius: 6px;
        background: #0e0e10;
        margin-top: 12px;
      }
      
      /* Messages */
      .message {
        padding: 12px 16px;
        border-radius: 8px;
        margin-top: 16px;
        font-size: 14px;
        display: none;
      }
      
      .message.show {
        display: block;
        animation: slideIn 0.3s ease;
      }
      
      .message.success {
        background: rgba(76, 175, 80, 0.1);
        border: 1px solid #4caf50;
        color: #4caf50;
      }
      
      .message.error {
        background: rgba(255, 132, 132, 0.1);
        border: 1px solid #ff8484;
        color: #ff8484;
      }
      
      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      /* Footer */
      footer {
        text-align: center;
        padding: 24px;
        color: #adadb8;
        font-size: 12px;
        border-top: 1px solid #2f2f37;
        margin-top: 40px;
      }
      
      /* Scrollbar */
      ::-webkit-scrollbar {
        width: 12px;
      }
      
      ::-webkit-scrollbar-track {
        background: #0e0e10;
      }
      
      ::-webkit-scrollbar-thumb {
        background: #2f2f37;
        border-radius: 6px;
      }
      
      ::-webkit-scrollbar-thumb:hover {
        background: #3a3a42;
      }
      
      /* File input styling */
      .file-input-wrapper {
        position: relative;
        overflow: hidden;
        display: inline-block;
        width: 100%;
      }
      
      .file-input-wrapper input[type=file] {
        position: absolute;
        left: -9999px;
      }
      
      .file-input-label {
        display: block;
        padding: 12px 24px;
        background: #2f2f37;
        color: #e3e3e3;
        text-align: center;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.2s ease;
        font-weight: 600;
      }
      
      .file-input-label:hover {
        background: #3a3a42;
      }
      
      /* Info boxes */
      .info-box {
        background: rgba(145, 70, 255, 0.1);
        border: 1px solid #9146FF;
        border-radius: 8px;
        padding: 12px 16px;
        margin-top: 12px;
        font-size: 13px;
        color: #adadb8;
        line-height: 1.5;
      }
      
      .info-box strong {
        color: #9146FF;
      }
    </style>
  </head>
  <body>
    <header>
      <div class="header-left">
        <img src="../../assets/icons/icon.png" alt="icon" width="32" height="32">
        <div>
          <h1>NoSubVod Twitch</h1>
          <span style="font-size: 12px; color: #adadb8;">Param√®tres de l'extension</span>
        </div>
      </div>
      <span id="version" style="font-size: 11px; color: #adadb8;">v0.3.0</span>
    </header>
    
    <div class="container">
      <!-- Features Section -->
      <div class="section">
        <div class="section-header">
          <div class="section-icon">üéØ</div>
          <div class="section-title">
            <h2>Features Principales</h2>
            <p>Activer ou d√©sactiver les fonctionnalit√©s de l'extension</p>
          </div>
        </div>
        
        <div class="feature-item">
          <div class="feature-info">
            <div class="feature-name">
              üîì VOD Unlocker
              <span class="feature-badge recommended">Recommand√©</span>
            </div>
            <div class="feature-description">
              D√©verrouille les VODs r√©serv√©es aux abonn√©s en patchant le Worker Amazon. 
              Cette feature permet de regarder toutes les vid√©os sans restriction.
            </div>
          </div>
          <label class="toggle">
            <input type="checkbox" id="feature-vod-unlocker" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        
        <div class="feature-item">
          <div class="feature-info">
            <div class="feature-name">
              üé® Interface Changer
              <span class="feature-badge recommended">Recommand√©</span>
            </div>
            <div class="feature-description">
              Modifie l'interface Twitch pour simuler un statut d'abonn√©. 
              Change les boutons "S'abonner" en "Abonn√©" et masque les restrictions visuelles.
            </div>
          </div>
          <label class="toggle">
            <input type="checkbox" id="feature-interface-changer" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        
        <div class="feature-item">
          <div class="feature-info">
            <div class="feature-name">
              üí¨ Chat Customizer
            </div>
            <div class="feature-description">
              Personnalise votre apparence dans le chat avec des badges personnalis√©s 
              et des effets visuels sur votre pseudo.
            </div>
          </div>
          <label class="toggle">
            <input type="checkbox" id="feature-chat-customizer" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        
        <div class="feature-item">
          <div class="feature-info">
            <div class="feature-name">
              üö´ Restriction Remover
            </div>
            <div class="feature-description">
              Supprime les overlays et badges "R√©serv√© aux abonn√©s" sur les miniatures 
              et pr√©visualisations de vid√©os.
            </div>
          </div>
          <label class="toggle">
            <input type="checkbox" id="feature-restriction-remover" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        
        <div class="feature-item">
          <div class="feature-info">
            <div class="feature-name">
              üö´ Ad Blocker
              <span class="feature-badge beta">Beta</span>
            </div>
            <div class="feature-description">
              Bloque ou passe automatiquement les publicit√©s Twitch et masque les overlays publicitaires 
              pour une exp√©rience de visionnage sans interruption.
            </div>
          </div>
          <label class="toggle">
            <input type="checkbox" id="feature-ad-blocker" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
      </div>
      
      <!-- Chat Customization Section -->
      <div class="section" id="chat-customization-section">
        <div class="section-header">
          <div class="section-icon">üí¨</div>
          <div class="section-title">
            <h2>Personnalisation du Chat</h2>
            <p>Configurez votre apparence dans le chat Twitch</p>
          </div>
        </div>
        
        <div class="input-group">
          <label class="input-label">Badge Personnalis√©</label>
          <div class="info-box">
            üí° <strong>Astuce :</strong> Choisissez parmi nos badges officiels Twitch (TwitchCon, OWL, Founder...) ou importez votre propre image.
          </div>
          
          <div class="badge-grid" id="badge-presets">
            <!-- Les badges pr√©d√©finis seront ajout√©s ici par JS -->
          </div>
          
          <input type="text" id="chat-badge-text" placeholder="Badge s√©lectionn√© ou chemin personnalis√©" style="margin-top: 12px;" readonly>
        </div>
        
        <div class="input-group">
          <label class="input-label">Nom du Badge (Tooltip)</label>
          <input type="text" id="chat-badge-name" placeholder="Ex: ZEVENT 2024, Supporter">
        </div>
        
        <div class="input-group">
          <label class="input-label">Import d'un Badge Personnalis√©</label>
          <div class="file-input-wrapper">
            <input type="file" id="badge-file-input" accept="image/*">
            <label for="badge-file-input" class="file-input-label">
              üìÅ Importer une image (PNG, JPG, GIF)
            </label>
          </div>
          <div id="badge-imported-container" style="margin-top: 12px; display: none;">
            <div class="badge-preview">
              <span class="badge-preview-label">Badge import√© :</span>
              <div class="badge-preview-item" id="badge-preview"></div>
            </div>
          </div>
        </div>
        
        <div class="input-group">
          <label class="input-label">Effet du Pseudo</label>
          <select id="chat-effect-select">
            <option value="">Aucun effet</option>
            <option value="rainbow">üåà Arc-en-ciel</option>
            <option value="gradient_purple">üíú D√©grad√© Violet</option>
            <option value="gradient_ocean">üíô D√©grad√© Oc√©an</option>
            <option value="gradient_fire">üî• D√©grad√© Feu</option>
            <option value="gradient_sunset">üåÖ D√©grad√© Coucher de Soleil</option>
            <option value="glitch">‚ö° Glitch</option>
            <option value="neon_blue">üíé N√©on Bleu</option>
            <option value="neon_pink">üíñ N√©on Rose</option>
          </select>
          <div id="effect-preview-container" style="display: none;">
            <span class="effect-preview" id="effect-preview">VotrePseudo</span>
          </div>
        </div>
      </div>
      
      <!-- Download Settings Section -->
      <div class="section">
        <div class="section-header">
          <div class="section-icon">üì•</div>
          <div class="section-title">
            <h2>Param√®tres de T√©l√©chargement</h2>
            <p>Configurez les options de t√©l√©chargement des VODs</p>
          </div>
        </div>
        
        <div class="input-group">
          <label class="input-label">Qualit√© par D√©faut</label>
          <select id="download-quality">
            <option value="Source">Source (Meilleure qualit√©)</option>
            <option value="1080p60">1080p60</option>
            <option value="720p60">720p60</option>
            <option value="480p30">480p30</option>
            <option value="360p30">360p30</option>
          </select>
        </div>
        
        <div class="input-group">
          <label class="input-label">Segments Parall√®les</label>
          <input type="number" id="download-chunks" min="1" max="10" value="5">
          <div class="info-box" style="margin-top: 8px;">
            üí° Nombre de segments t√©l√©charg√©s simultan√©ment. Plus le nombre est √©lev√©, plus le t√©l√©chargement est rapide, mais utilise plus de bande passante.
            <br><strong>Performance :</strong> Avec 5 segments parall√®les, le t√©l√©chargement est environ <strong>5x plus rapide</strong> qu'en s√©quentiel !
            <br><strong>Recommand√© :</strong> 5-7 pour la plupart des connexions, 8-10 pour la fibre optique.
          </div>
        </div>
        
        <div class="feature-item">
          <div class="feature-info">
            <div class="feature-name">
              üóúÔ∏è Compression Vid√©o
              <span class="feature-badge new">Nouveau</span>
            </div>
            <div class="feature-description">
              Compresse la vid√©o pendant le t√©l√©chargement pour r√©duire la taille du fichier. 
              Choisissez entre compression sans perte ou avec optimisation qualit√©/poids.
            </div>
          </div>
          <label class="toggle">
            <input type="checkbox" id="download-compress">
            <span class="toggle-slider"></span>
          </label>
        </div>
        
        <div class="input-group" id="compression-type-container" style="margin-top: 16px;">
          <label class="input-label">Type de Compression</label>
          <select id="compression-type">
            <option value="none">üö´ Aucune compression</option>
            <option value="lossless">üíé LossLess (Sans perte)</option>
            <option value="lossy">‚ö° Lossy (Optimis√© taille)</option>
          </select>
          
          <div class="info-box" style="margin-top: 8px;">
            <strong>üíé LossLess (Recommand√©) :</strong> Supprime uniquement les paquets NULL (padding inutile) 
            du stream MPEG-TS. <strong>Aucune perte de qualit√© vid√©o/audio</strong>. R√©duction typique : ~5-10%.
            <br><br>
            <strong>‚ö° Lossy :</strong> Actuellement identique √† LossLess (compression plus agressive d√©sactiv√©e car elle corrompt les fichiers).
            R√©duction typique : ~5-10%, qualit√© pr√©serv√©e.
            <br><br>
            <strong>üö´ Aucune :</strong> T√©l√©chargement brut sans compression. Qualit√© maximale garantie mais fichiers l√©g√®rement plus volumineux (~5-10%).
            <br><br>
            <strong>‚ÑπÔ∏è Note :</strong> La compression TS est limit√©e pour √©viter la corruption des fichiers. Pour une vraie compression, utilisez HandBrake ou ffmpeg apr√®s le t√©l√©chargement.
          </div>
        </div>
        
        <div class="feature-item">
          <div class="feature-info">
            <div class="feature-name">Notifications</div>
            <div class="feature-description">
              Recevoir une notification √† la fin des t√©l√©chargements
            </div>
          </div>
          <label class="toggle">
            <input type="checkbox" id="download-notifications" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        
        <div class="feature-item">
          <div class="feature-info">
            <div class="feature-name">Miniatures</div>
            <div class="feature-description">
              Afficher les miniatures des VODs dans l'interface
            </div>
          </div>
          <label class="toggle">
            <input type="checkbox" id="download-thumbnails" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
      </div>
      
      <!-- Advanced Settings Section -->
      <div class="section">
        <div class="section-header">
          <div class="section-icon">‚öôÔ∏è</div>
          <div class="section-title">
            <h2>Param√®tres Avanc√©s</h2>
            <p>Options suppl√©mentaires pour utilisateurs avanc√©s</p>
          </div>
        </div>
        
        <div class="input-group">
          <label class="input-label">Historique Maximum</label>
          <input type="number" id="history-max" min="10" max="500" value="100">
          <div class="info-box" style="margin-top: 8px;">
            Nombre maximum d'√©l√©ments conserv√©s dans l'historique de t√©l√©chargement
          </div>
        </div>
        
        <div class="input-group">
          <label class="input-label">Nettoyage Automatique (jours)</label>
          <input type="number" id="history-cleanup" min="0" max="365" value="30">
          <div class="info-box" style="margin-top: 8px;">
            Supprime automatiquement les entr√©es d'historique apr√®s X jours. Mettez 0 pour d√©sactiver.
          </div>
        </div>
        
        <div class="feature-item">
          <div class="feature-info">
            <div class="feature-name">Mode Debug</div>
            <div class="feature-description">
              Active les logs d√©taill√©s dans la console pour le d√©bogage
            </div>
          </div>
          <label class="toggle">
            <input type="checkbox" id="advanced-debug">
            <span class="toggle-slider"></span>
          </label>
        </div>
      </div>
      
      <!-- Save/Reset Buttons -->
      <div class="btn-group">
        <button class="btn-primary" id="save-settings">üíæ Enregistrer les Param√®tres</button>
        <button class="btn-secondary" id="reset-settings">üîÑ R√©initialiser</button>
      </div>
      
      <!-- Success/Error Messages -->
      <div class="message success" id="success-message">
        ‚úÖ Param√®tres enregistr√©s avec succ√®s !
      </div>
      <div class="message error" id="error-message">
        ‚ùå Erreur lors de l'enregistrement des param√®tres
      </div>
    </div>
    
    <footer>
      <p>NoSubVod Twitch Extension ‚Ä¢ Made with üíú by the Community</p>
      <p>‚ö†Ô∏è Utilisez cette extension de mani√®re responsable</p>
    </footer>
    
    <script src="settings.js"></script>
  </body>
</html>
